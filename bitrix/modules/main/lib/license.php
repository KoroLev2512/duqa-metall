<? namespace Bitrix\Main;$GLOBALS['____1704555365']= array(base64_decode('ZmlsZV9le'.'GlzdHM='),base64_decode(''.'c3RydG91cHBlcg=='),base64_decode(''.'bW'.'Q'.'1'),base64_decode(''.'b'.'WQ1'),base64_decode('aW5'.'f'.'Y'.'X'.'Jy'.'YX'.'k='),base64_decode('aW5fY'.'X'.'JyYXk='),base64_decode('aW'.'5'.'fY'.'XJ'.'yYX'.'k='),base64_decode('ZGVmaW5lZ'.'A=='),base64_decode('Z'.'GVmaW5lZ'.'A=='),base64_decode('ZGVmaW5'.'lZA='.'='),base64_decode('Z'.'mls'.'ZV9leGlzdHM='),base64_decode('Zm'.'ls'.'ZV9l'.'e'.'GlzdHM='),base64_decode('Zml'.'sZV9l'.'eGl'.'zdHM='),base64_decode('ZmlsZV'.'9l'.'e'.'Glz'.'dHM'.'='),base64_decode('ZX'.'hwbG9k'.'ZQ'.'=='));if(!function_exists(__NAMESPACE__.'\\___1663841847')){function ___1663841847($_1226657382){static $_1230144025= false; if($_1230144025 == false) $_1230144025=array('L2Jp'.'dH'.'J'.'p'.'eC9saWNlbnNlX2'.'tleS'.'5waHA=','','','R'.'EVN'.'T'.'w==','REV'.'NTw==','QklU'.'UklY','TElDRU5DRQ==','R'.'EVN'.'Tw'.'==','L2tl'.'eV91cGRhdGUucG'.'h'.'wP2xpY2V'.'u'.'c2'.'Vfa2V5P'.'Q==','J'.'nRvYmFza'.'2V'.'0PXkmb'.'GFuZz0=','cnU'.'=','a'.'3o=','Ynk=','aHR0cH'.'M'.'6Ly9kZXYuMW'.'MtYm'.'l0c'.'ml4LnJ'.'1'.'L2xlYXJua'.'W5nL'.'2NvdXJzZS9pb'.'mR'.'leC'.'5'.'waHA'.'/Q09VUlNFX0lEP'.'TEzNSZMR'.'VNT'.'T05f'.'SUQ9Mj'.'U3MjA=','aHR0cHM6L'.'y9'.'0'.'cm'.'Fpb'.'mluZy5iaXRy'.'aXgyNC5jb'.'20'.'v'.'c3VwcG9ydC'.'90cmFp'.'bmluZ'.'y9jb3V'.'y'.'c2Uv'.'aW'.'5k'.'ZX'.'gucGhwP0NP'.'VVJTRV9JRD0xNzg'.'mTEVTU09OX0lEPTI1OTMy'.'Jkx'.'F'.'U1NPT'.'l9QQ'.'V'.'RIPTE3'.'N'.'TI'.'wLjE3N'.'TY'.'yL'.'jI1OTMwL'.'jI1OTMy','cnU=','Ynk=','a3o'.'=','ZGU'.'=',''.'Z'.'XU=','Z'.'nI=','cGw=','a'.'X'.'Q=',''.'dWs=','ZXU=','Y2'.'9t','ZW4'.'=',''.'RE'.'VN'.'Tw==','WQ==','V'.'ElNRUx'.'JTUl'.'UX0VESVRJT0'.'4=','WQ'.'==','RU5DT'.'0RF',''.'WQ='.'=','U2l0ZUV4cG'.'l'.'yZU'.'RhdGU=',''.'bWFpbg==','fnN1'.'cHBvcn'.'R'.'f'.'Z'.'m'.'l'.'uaXNoX2Rh'.'dGU'.'=','WS1tLWQ=','WS1tLWQ=','Yml0cml4'.'M'.'jQ=','b'.'WFpbg'.'==','flBB'.'UkFNX'.'0NMSUVOVF'.'9MQU5H','a'.'W50c'.'mF'.'uZXQ=',''.'ZW4'.'=','c'.'nU=','bWF'.'pbg'.'==','dm'.'VuZ'.'G9y','dW'.'FfYml0c'.'ml4X3'.'B'.'vcnRhbA==','dWE'.'=','Yml0'.'cml4X3'.'BvcnRhb'.'A==','ZW4=','MWNfYml0cml4X3B'.'vc'.'nRhb'.'A==','cnU=','L2J'.'pd'.'H'.'Jpe'.'C9tb2R1bGVzL21haW'.'4v'.'bG'.'FuZy91Y'.'Q='.'=',''.'d'.'WE=','L'.'2'.'JpdHJpeC9t'.'b'.'2'.'R'.'1b'.'G'.'VzL21haW4vbGFu'.'Z'.'y9'.'ie'.'Q==','Y'.'nk=','L2J'.'pdHJ'.'p'.'eC'.'9tb2R1'.'bGV'.'zL21ha'.'W4vbGFuZy9reg'.'==','a3o=','L2JpdHJpeC9tb2'.'R1bGVzL21haW4vb'.'GF'.'uZy9ydQ'.'==','cnU=','bW'.'F'.'p'.'bg==','flBBUkFNX1BBUlROR'.'VJfSU'.'Q=','bWFpbg==','UEF'.'SQ'.'U1fTUFY'.'X1'.'VTRVJ'.'T','bWFp'.'bg==','fkNPV'.'U5UX0VYVFJ'.'B',''.'T'.'g==',''.'WQ==',''.'Z'.'Xh0cmFuZX'.'Q'.'=','QU5EIFUuTEF'.'T'.'VF9M'.'T0dJTiA+IA==','QU5EI'.'FUuTEFTVF9'.'MT'.'0dJ'.'TiB'.'JUyBO'.'T1Q'.'gTlVM'.'TA='.'=',''.'aW50cm'.'F'.'uZX'.'Q=','ZXh0cmF'.'u'.'ZX'.'Q=','ZXh0cmFu'.'ZX'.'RfZ3'.'JvdXA=','bWF'.'pbg='.'=','fmxp'.'Y2Vuc2Vfb'.'m'.'F'.'tZQ'.'==','bW'.'Fpbg==','f'.'mxpY2Vuc'.'2VfY'.'29'.'kZ'.'XM=','','LA==');return base64_decode($_1230144025[$_1226657382]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_926919533= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_926919533 === null){ $_772316355= Loader::getDocumentRoot(). ___1663841847(0); $LICENSE_KEY= ___1663841847(1); if($GLOBALS['____1704555365'][0]($_772316355)){ include($_772316355);} $this->_926919533=($LICENSE_KEY == ___1663841847(2) || $GLOBALS['____1704555365'][1]($LICENSE_KEY) == ___1663841847(3)? ___1663841847(4): $LICENSE_KEY);} return $this->_926919533;} public function getHashLicenseKey(): string{ return $GLOBALS['____1704555365'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1704555365'][3](___1663841847(5). $this->getKey(). ___1663841847(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1663841847(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1663841847(8). $this->getHashLicenseKey(). ___1663841847(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_855889306= $this->getRegion(); if($GLOBALS['____1704555365'][4]($_855889306,[___1663841847(10), ___1663841847(11), ___1663841847(12)])){ return ___1663841847(13);} return ___1663841847(14);} public function getRenewalLink(): string{ $_855889306= $this->getRegion(); if($GLOBALS['____1704555365'][5]($_855889306,[___1663841847(15), ___1663841847(16), ___1663841847(17), ___1663841847(18)])){ return self::URL_RENEWAL_LICENSE[$_855889306];} if($GLOBALS['____1704555365'][6]($_855889306,[___1663841847(19), ___1663841847(20), ___1663841847(21), ___1663841847(22), ___1663841847(23)])){ return self::URL_RENEWAL_LICENSE[___1663841847(24)];} return self::URL_RENEWAL_LICENSE[___1663841847(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1663841847(26)];} public function isDemo(): bool{ return $GLOBALS['____1704555365'][7](___1663841847(27)) && DEMO === ___1663841847(28);} public function isTimeBound(): bool{ return $GLOBALS['____1704555365'][8](___1663841847(29)) && TIMELIMIT_EDITION === ___1663841847(30);} public function isEncoded(): bool{ return $GLOBALS['____1704555365'][9](___1663841847(31)) && ENCODE === ___1663841847(32);} public function getExpireDate():?Date{ $_1800500089= (int)($GLOBALS[___1663841847(33)] ??(1024/2-512)); if($_1800500089> min(152,0,50.666666666667)){ return Date::createFromTimestamp($_1800500089);} return null;} public function getSupportExpireDate():?Date{ $_1800500089= Option::get(___1663841847(34), ___1663841847(35)); if(Date::isCorrect($_1800500089, ___1663841847(36))){ return new Date($_1800500089, ___1663841847(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1663841847(38))){ return \CBitrix24::getPortalZone();} $_855889306= Option::get(___1663841847(39), ___1663841847(40)); if(!empty($_855889306)){ return $_855889306;} $_855889306= $this->__1083489085(); if(!empty($_855889306)){ return $_855889306;} return $this->__40761985();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1663841847(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1663841847(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1663841847(43)];} private function __1083489085():?string{ $_429059574= Option::get(___1663841847(44), ___1663841847(45)); if($_429059574 === ___1663841847(46)){ return ___1663841847(47);} if($_429059574 === ___1663841847(48)){ return ___1663841847(49);} if($_429059574 === ___1663841847(50)){ return ___1663841847(51);} return null;} private function __40761985():?string{ $_1507458165= Application::getDocumentRoot(); if($GLOBALS['____1704555365'][10]($_1507458165. ___1663841847(52))){ return ___1663841847(53);} if($GLOBALS['____1704555365'][11]($_1507458165. ___1663841847(54))){ return ___1663841847(55);} if($GLOBALS['____1704555365'][12]($_1507458165. ___1663841847(56))){ return ___1663841847(57);} if($GLOBALS['____1704555365'][13]($_1507458165. ___1663841847(58))){ return ___1663841847(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1663841847(60), ___1663841847(61), min(170,0,56.666666666667));} public function getMaxUsers(): int{ return (int)Option::get(___1663841847(62), ___1663841847(63),(930-2*465));} public function isExtraCountable(): bool{ return Option::get(___1663841847(64), ___1663841847(65), ___1663841847(66)) === ___1663841847(67) && ModuleManager::isModuleInstalled(___1663841847(68));} public function getActiveUsersCount(Date $_463996983= null): int{ $_1305358814= Application::getConnection(); $_732229548=(1476/2-738); if($_463996983 !== null){  $_620445541= ___1663841847(69).$_1305358814->getSqlHelper()->convertToDbDate($_463996983);} else{  $_620445541= ___1663841847(70);} if(ModuleManager::isModuleInstalled(___1663841847(71))){ $_987493962="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_620445541}
			"; $_732229548= (int)$_1305358814->queryScalar($_987493962); $_124834879= (int)Option::get(___1663841847(72), ___1663841847(73)); if($_124834879>(898-2*449) && $this->isExtraCountable()){ $_987493962="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_124834879}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_620445541}
							AND D.VALUE_ID IS NULL
					"; $_732229548 += (int)$_1305358814->queryScalar($_987493962);}} return $_732229548;}  public function getName(): string{ return Option::get(___1663841847(74), ___1663841847(75));}  public function getCodes(): array{ $_829785564= Option::get(___1663841847(76), ___1663841847(77)); if($_829785564 != ___1663841847(78)){ return $GLOBALS['____1704555365'][14](___1663841847(79), $_829785564);} return[];}}?>